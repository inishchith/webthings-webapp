<!DOCTYPE html>
<!-- SPDX-License-Identifier: MPL-2.0 -->
<!-- 
     Copyright 2019-present Samsung Electronics France SAS, and other contributors
     This Source Code Form is subject to the terms of the Mozilla Public
     License, v. 2.0. If a copy of the MPL was not distributed with this
     file, You can obtain one at http://mozilla.org/MPL/2.0/
  -->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <script>
AFRAME.registerComponent('console', {
  init: function () {
    var that = this;
    this.log('log: init:');

    for (var event of ['stateadded', 'mouseenter']) {
      this.log('listen: ' + event);
      this.el.addEventListener(event, function (evt) {
        that.log("event: " + event + ": " +JSON.stringify(evt));
      });
   }
   setInterval(function(){that.log();}, 60*1000);
   },

tick: function() {
},


log: function (text) {
    if (!text) text = new Date();
    text+="\n";
    text+=this.el.getAttribute('value');
    this.el.setAttribute('value', text.substring(0,1024));
  },

  click: function() {
    log("click");
  }

});

</script>

  </head>
  <body>
    <a-scene>

      <a-camera>
        <a-cursor></a-cursor>
      </a-camera>

      <a-text id="console" console
              value="console:"
              position="0 0 -5"
              color="#808080"
              />
      
    </a-scene>
  </body>
</html>
